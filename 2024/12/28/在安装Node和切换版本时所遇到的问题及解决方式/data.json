{"title":"在安装Node和切换版本时所遇到的问题及解决方式","date":"2024-12-28T10:35:06.000Z","toc":true,"summary":"npm切换目录和node切换版本 for Windows","source":"_posts/在安装Node和切换版本时所遇到的问题及解决方式.md","raw":"---\ntitle: 在安装Node和切换版本时所遇到的问题及解决方式\ndate: 2024-12-28 18:35:06\ntags:\n    - Nodejs\n    - npm\ntoc: true\nsummary: \"npm切换目录和node切换版本 for Windows\"\n---\n\n## 如何切换npm下载路径\n\n在安装完毕nodejs并配置好PATH后通过`npm config list`命令观察电脑中`C:\\Users\\当前用户`是否存在文件`.npmrc`\n在刚刚安装完毕nodejs时候，一般是不存在这个文件的。\n\n### 如果不存在.npmrc文件\n\n则在nodejs根目录创建`node_global`和`node_cache`两个文件夹\n首先在PATH中添加`node_global`所在目录，然后创建`NODE_PATH`环境变量值为\n`nodejs根目录\\node_global\\node_modules`(以防止其他应用找不到全局模块)\n之后输入\n\n```bash\nnpm config set prefix \"***\" //***为node_global所在目录\nnpm config set cache \"**\"   //**为node_cache所在目录\n```\n\n更改完毕后记得使用`npm config list`命令验证一下\n\n### 如果存在.npmrc文件\n\n直接去电脑中`C:\\Users\\当前用户`更改对应条目即可，`prefix`对应`node_global`所在目录,\ncache对应`node_cache`所在目录\n\n## 如何切换node版本\n\n更改版本时 需要修改环境变量中的`NODE_PATH` 和 `PATH`中的node根目录、node_global进行相应修改\n还需要更改`C:\\Users\\当前用户`中的`.npmrc`文件中的`cache`和`prefix`条目\n\n## 在需要频繁切换版本的情况下，建议修改.npmrc中的registery源地址\n\n不同版本node在切换后共用同一个.npmrc，因为某些早期版本npm版本过低，cnpm和nrm不可用，切换后可能忘记切换源地址导致下载缓慢。\n\n## 参考文章\n\n[npm更换下载源](https://blog.csdn.net/cute_neko/article/details/140336948)\n[npm修改默认全局安装路径](https://www.cnblogs.com/lyh233/p/16265929.html)\n","slug":"在安装Node和切换版本时所遇到的问题及解决方式","published":true,"updated":"2024-12-28T11:11:06.219Z","_id":"cm588wzvj0001w0o217soetop","comments":true,"layout":"post","photos":[],"html":"<h2 id=\"如何切换npm下载路径\"><a href=\"#如何切换npm下载路径\" class=\"headerlink\" title=\"如何切换npm下载路径\"></a>如何切换npm下载路径</h2><p>在安装完毕nodejs并配置好PATH后通过<code>npm config list</code>命令观察电脑中<code>C:\\Users\\当前用户</code>是否存在文件<code>.npmrc</code><br>在刚刚安装完毕nodejs时候，一般是不存在这个文件的。</p>\n<h3 id=\"如果不存在-npmrc文件\"><a href=\"#如果不存在-npmrc文件\" class=\"headerlink\" title=\"如果不存在.npmrc文件\"></a>如果不存在.npmrc文件</h3><p>则在nodejs根目录创建<code>node_global</code>和<code>node_cache</code>两个文件夹<br>首先在PATH中添加<code>node_global</code>所在目录，然后创建<code>NODE_PATH</code>环境变量值为<br><code>nodejs根目录\\node_global\\node_modules</code>(以防止其他应用找不到全局模块)<br>之后输入</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm config <span class=\"built_in\">set</span> prefix <span class=\"string\">&quot;***&quot;</span> //***为node_global所在目录</span><br><span class=\"line\">npm config <span class=\"built_in\">set</span> cache <span class=\"string\">&quot;**&quot;</span>   //**为node_cache所在目录</span><br></pre></td></tr></table></figure>\n\n<p>更改完毕后记得使用<code>npm config list</code>命令验证一下</p>\n<h3 id=\"如果存在-npmrc文件\"><a href=\"#如果存在-npmrc文件\" class=\"headerlink\" title=\"如果存在.npmrc文件\"></a>如果存在.npmrc文件</h3><p>直接去电脑中<code>C:\\Users\\当前用户</code>更改对应条目即可，<code>prefix</code>对应<code>node_global</code>所在目录,<br>cache对应<code>node_cache</code>所在目录</p>\n<h2 id=\"如何切换node版本\"><a href=\"#如何切换node版本\" class=\"headerlink\" title=\"如何切换node版本\"></a>如何切换node版本</h2><p>更改版本时 需要修改环境变量中的<code>NODE_PATH</code> 和 <code>PATH</code>中的node根目录、node_global进行相应修改<br>还需要更改<code>C:\\Users\\当前用户</code>中的<code>.npmrc</code>文件中的<code>cache</code>和<code>prefix</code>条目</p>\n<h2 id=\"在需要频繁切换版本的情况下，建议修改-npmrc中的registery源地址\"><a href=\"#在需要频繁切换版本的情况下，建议修改-npmrc中的registery源地址\" class=\"headerlink\" title=\"在需要频繁切换版本的情况下，建议修改.npmrc中的registery源地址\"></a>在需要频繁切换版本的情况下，建议修改.npmrc中的registery源地址</h2><p>不同版本node在切换后共用同一个.npmrc，因为某些早期版本npm版本过低，cnpm和nrm不可用，切换后可能忘记切换源地址导致下载缓慢。</p>\n<h2 id=\"参考文章\"><a href=\"#参考文章\" class=\"headerlink\" title=\"参考文章\"></a>参考文章</h2><p><a href=\"https://blog.csdn.net/cute_neko/article/details/140336948\">npm更换下载源</a><br><a href=\"https://www.cnblogs.com/lyh233/p/16265929.html\">npm修改默认全局安装路径</a></p>\n","excerpt":"","more":"<h2 id=\"如何切换npm下载路径\"><a href=\"#如何切换npm下载路径\" class=\"headerlink\" title=\"如何切换npm下载路径\"></a>如何切换npm下载路径</h2><p>在安装完毕nodejs并配置好PATH后通过<code>npm config list</code>命令观察电脑中<code>C:\\Users\\当前用户</code>是否存在文件<code>.npmrc</code><br>在刚刚安装完毕nodejs时候，一般是不存在这个文件的。</p>\n<h3 id=\"如果不存在-npmrc文件\"><a href=\"#如果不存在-npmrc文件\" class=\"headerlink\" title=\"如果不存在.npmrc文件\"></a>如果不存在.npmrc文件</h3><p>则在nodejs根目录创建<code>node_global</code>和<code>node_cache</code>两个文件夹<br>首先在PATH中添加<code>node_global</code>所在目录，然后创建<code>NODE_PATH</code>环境变量值为<br><code>nodejs根目录\\node_global\\node_modules</code>(以防止其他应用找不到全局模块)<br>之后输入</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm config <span class=\"built_in\">set</span> prefix <span class=\"string\">&quot;***&quot;</span> //***为node_global所在目录</span><br><span class=\"line\">npm config <span class=\"built_in\">set</span> cache <span class=\"string\">&quot;**&quot;</span>   //**为node_cache所在目录</span><br></pre></td></tr></table></figure>\n\n<p>更改完毕后记得使用<code>npm config list</code>命令验证一下</p>\n<h3 id=\"如果存在-npmrc文件\"><a href=\"#如果存在-npmrc文件\" class=\"headerlink\" title=\"如果存在.npmrc文件\"></a>如果存在.npmrc文件</h3><p>直接去电脑中<code>C:\\Users\\当前用户</code>更改对应条目即可，<code>prefix</code>对应<code>node_global</code>所在目录,<br>cache对应<code>node_cache</code>所在目录</p>\n<h2 id=\"如何切换node版本\"><a href=\"#如何切换node版本\" class=\"headerlink\" title=\"如何切换node版本\"></a>如何切换node版本</h2><p>更改版本时 需要修改环境变量中的<code>NODE_PATH</code> 和 <code>PATH</code>中的node根目录、node_global进行相应修改<br>还需要更改<code>C:\\Users\\当前用户</code>中的<code>.npmrc</code>文件中的<code>cache</code>和<code>prefix</code>条目</p>\n<h2 id=\"在需要频繁切换版本的情况下，建议修改-npmrc中的registery源地址\"><a href=\"#在需要频繁切换版本的情况下，建议修改-npmrc中的registery源地址\" class=\"headerlink\" title=\"在需要频繁切换版本的情况下，建议修改.npmrc中的registery源地址\"></a>在需要频繁切换版本的情况下，建议修改.npmrc中的registery源地址</h2><p>不同版本node在切换后共用同一个.npmrc，因为某些早期版本npm版本过低，cnpm和nrm不可用，切换后可能忘记切换源地址导致下载缓慢。</p>\n<h2 id=\"参考文章\"><a href=\"#参考文章\" class=\"headerlink\" title=\"参考文章\"></a>参考文章</h2><p><a href=\"https://blog.csdn.net/cute_neko/article/details/140336948\">npm更换下载源</a><br><a href=\"https://www.cnblogs.com/lyh233/p/16265929.html\">npm修改默认全局安装路径</a></p>\n","path":"2024/12/28/在安装Node和切换版本时所遇到的问题及解决方式/","permalink":"http://example.com/2024/12/28/%E5%9C%A8%E5%AE%89%E8%A3%85Node%E5%92%8C%E5%88%87%E6%8D%A2%E7%89%88%E6%9C%AC%E6%97%B6%E6%89%80%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E5%BC%8F/","tags":[{"name":"Nodejs","_id":"cm588wzvq0006w0o28jzf0uxo","slug":"Nodejs","path":"tags/Nodejs/","permalink":"http://example.com/tags/Nodejs/","length":1},{"name":"npm","_id":"cm588wzvq0009w0o2gtds9vm8","slug":"npm","path":"tags/npm/","permalink":"http://example.com/tags/npm/","length":1}],"categories":[],"prev":{"title":"我的ArchLinux部分软件使用教程及配置备份","date":"2024-12-28T13:35:06.000Z","summary":"部分ArchLinux软件使用教程","slug":"我的ArchLinux部分软件使用教程及配置备份","published":true,"updated":"2024-12-29T14:21:03.417Z","_id":"cm588wzvx000ew0o2fmo8gjdj","layout":"post","photos":[],"excerpt":"","path":"2024/12/28/我的ArchLinux部分软件使用教程及配置备份/","permalink":"http://example.com/2024/12/28/%E6%88%91%E7%9A%84ArchLinux%E9%83%A8%E5%88%86%E8%BD%AF%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B%E5%8F%8A%E9%85%8D%E7%BD%AE%E5%A4%87%E4%BB%BD/","__post":true},"next":{"title":"HelloWorld！！！","date":"2024-12-28T10:00:47.000Z","summary":"hello? world!","slug":"HelloWorld","published":true,"updated":"2024-12-29T14:51:00.580Z","_id":"cm588wzve0000w0o28opx0qup","layout":"post","photos":[],"excerpt":"","path":"2024/12/28/HelloWorld/","permalink":"http://example.com/2024/12/28/HelloWorld/","__post":true},"__post":true}